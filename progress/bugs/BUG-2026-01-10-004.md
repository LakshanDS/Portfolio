# BUG-2026-01-10-004: Supabase Dependencies Still Present

**Bug ID**: BUG-2026-01-10-004
**Severity**: High
**Status**: Open
**Date Reported**: 2026-01-10
**Priority**: Medium

---

## Summary

The package `@supabase/auth-helpers-nextjs` is still installed in the project despite the migration to Prisma+SQLite being completed. This creates dependency bloat and potential confusion for developers.

---

## Location

**File**: [package.json](file:///d:/Projects/Portfolio/package.json#L9)

```json
{
  "dependencies": {
    "@supabase/auth-helpers-nextjs": "^0.15.0",
    // ... other dependencies
  }
}
```

---

## Root Cause

During the migration, the core Supabase client was removed and replaced with Prisma, but the auth helper package was not explicitly removed from package.json.

---

## Impact

- **Dependency Bloat**: Unnecessary package increases bundle size and maintenance burden
- **Confusion**: Developers may think Supabase is still in use
- **Security**: Unmaintained dependencies could pose security risks
- **Clean Code**: Violates principle of removing unused dependencies

**Note**: This does NOT block the build, but is a code quality issue.

---

## Proposed Fix

### Step 1: Remove from package.json
Delete line 9 from [package.json](file:///d:/Projects/Portfolio/package.json#L9):

```json
{
  "dependencies": {
    // Remove this line:
    // "@supabase/auth-helpers-nextjs": "^0.15.0",
    "@prisma/client": "^6.1.0",
    "next": "^15.1.3",
    // ... rest of dependencies
  }
}
```

### Step 2: Uninstall the Package
Run the following commands:

```bash
npm uninstall @supabase/auth-helpers-nextjs
```

### Step 3: Verify Removal

Check that the package is no longer in:
- `package.json` dependencies
- `package-lock.json`
- `node_modules/@supabase/`

```bash
# Verify it's gone from package.json
cat package.json | grep supabase
# Should return nothing

# Verify it's gone from node_modules
ls node_modules/@supabase/
# Should return "ls: cannot access"
```

---

## Additional Supabase References to Remove

### 1. Environment Configuration
**File**: [src/lib/env.ts](file:///d:/Projects/Portfolio/src/lib/env.ts)

Remove Supabase-related configuration (see BUG-2026-01-10-005)

### 2. Example Environment File
**File**: [.env.example](file:///d:/Projects/Portfolio/.env.example)

Remove Supabase environment variable examples (see BUG-2026-01-10-005)

---

## Verification Steps

1. Remove package from package.json
2. Run: `npm uninstall @supabase/auth-helpers-nextjs`
3. Run: `npm install` to update package-lock.json
4. Verify package is gone from `node_modules/@supabase/`
5. Run: `npm run build` to ensure nothing breaks
6. Run: `npx tsc --noEmit` to ensure no import errors

---

## Related Issues

- BUG-2026-01-10-005 (Environment Configuration Cleanup)

---

## References

- [package.json](file:///d:/Projects/Portfolio/package.json) - Dependencies list
- [src/lib/env.ts](file:///d:/Projects/Portfolio/src/lib/env.ts) - Environment configuration

---

**Assigned To**: Unassigned
**Estimated Fix Time**: 5 minutes
**Actual Fix Time**: TBD
